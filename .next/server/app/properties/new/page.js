(()=>{var e={};e.id=908,e.ids=[908],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},1310:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>o}),a(6527),a(7195),a(1025);var t=a(3282),r=a(5736),l=a(3906),n=a.n(l),i=a(6880),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(s,d);let o=["",{children:["properties",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,6527)),"C:\\Projects\\Rental_App\\apps\\web\\app\\properties\\new\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,7195)),"C:\\Projects\\Rental_App\\apps\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,1025)),"C:\\Projects\\Rental_App\\apps\\web\\app\\not-found.tsx"]}],c=["C:\\Projects\\Rental_App\\apps\\web\\app\\properties\\new\\page.tsx"],p="/properties/new/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/properties/new/page",pathname:"/properties/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3273:(e,s,a)=>{Promise.resolve().then(a.bind(a,6155))},6155:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var t=a(3227),r=a(3677),l=a(1043),n=a(5579),i=a(4651),d=a(5169),o=a(4155),c=a(7099),p=a(405);function u({address:e,city:s,state:a,zipCode:l,onCoordinatesFound:n,disabled:i=!1}){let[d,o]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),h=async()=>{if(!e||!s||!a){m("Please fill in address, city, and state first");return}o(!0),m(null);try{let t=`${e}, ${s}, ${a} ${l}`.trim(),r=process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY;if(r&&"YOUR_GOOGLE_MAPS_API_KEY_HERE"!==r){let e=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(t)}&key=${r}`);if(!e.ok)throw Error("Failed to geocode address");let s=await e.json();if("OK"===s.status&&s.results&&s.results.length>0){let e=s.results[0].geometry.location,a=e.lat,t=e.lng;n(a,t),m(null)}else"ZERO_RESULTS"===s.status?m("Address not found. Please check the address and try again."):"OVER_QUERY_LIMIT"===s.status?m("Geocoding service limit reached. Please try again later."):m(`Geocoding error: ${s.status}`)}else{let e=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}&limit=1&addressdetails=1`);if(!e.ok)throw Error("Failed to geocode address");let s=await e.json();if(s&&s.length>0){let e=s[0],a=parseFloat(e.lat),t=parseFloat(e.lon);n(a,t),m(null)}else m("Address not found. Please check the address and try again.")}}catch(e){console.error("Geocoding error:",e),m("Failed to get coordinates. Please try again.")}finally{o(!1)}};return(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("button",{type:"button",onClick:h,disabled:i||d||!e||!s||!a,className:"btn btn-secondary text-sm w-full",children:d?(0,t.jsxs)(t.Fragment,{children:[t.jsx(c.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Getting Coordinates..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(p.Z,{className:"w-4 h-4 mr-2"}),"Get Coordinates from Address (Google Maps)"]})}),u&&t.jsx("p",{className:"text-sm text-red-600",children:u}),t.jsx("p",{className:"text-xs text-gray-500",children:"Uses Google Maps Geocoding API for high accuracy. Free for up to 40,000 lookups/month."})]})}function m(){let e=(0,l.useRouter)(),[s,a]=(0,r.useState)(!1),[c,p]=(0,r.useState)({name:"",address:"",city:"",state:"",zip_code:"",property_type:"house",status:"empty",bedrooms:void 0,bathrooms:void 0,square_feet:void 0,year_built:void 0,purchase_price:void 0,purchase_date:"",current_value:void 0,monthly_rent:void 0,is_for_sale:!1,is_for_rent:!0,insurance_policy_number:"",insurance_provider:"",insurance_expiry_date:"",insurance_premium:void 0,owner_name:"",owner_phone:"",owner_email:"",latitude:void 0,longitude:void 0,notes:""}),m=e=>{let{name:s,value:a,type:t}=e.target,r=a;"number"===t?r=""===a?void 0:parseFloat(a):"checkbox"===t&&(r=e.target.checked),p(e=>({...e,[s]:r}))},h=async s=>{s.preventDefault(),a(!0);try{let s=await n.PropertiesService.create(c);s.success&&s.data?(o.ZP.success("Property created successfully!"),e.push("/properties")):(console.error("Create error:",s.error),o.ZP.error("Failed to create property"))}catch(e){console.error("Error:",e),o.ZP.error("Error creating property")}finally{a(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"flex justify-between items-center py-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("button",{onClick:()=>e.back(),className:"btn btn-secondary",children:[t.jsx(i.Z,{className:"w-4 h-4 mr-2"}),"Back"]}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Add New Property"}),t.jsx("p",{className:"text-gray-600",children:"Create a new rental property"})]})]})})})}),t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("form",{onSubmit:h,className:"space-y-8",children:[t.jsx("div",{className:"card",children:(0,t.jsxs)("div",{className:"card-content",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Basic Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"name",className:"label",children:"Property Name *"}),t.jsx("input",{type:"text",id:"name",name:"name",value:c.name,onChange:m,className:"input",required:!0})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"property_type",className:"label",children:"Property Type *"}),(0,t.jsxs)("select",{id:"property_type",name:"property_type",value:c.property_type,onChange:m,className:"input",required:!0,children:[t.jsx("option",{value:"house",children:"House"}),t.jsx("option",{value:"singlewide",children:"Single Wide"}),t.jsx("option",{value:"doublewide",children:"Double Wide"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"address",className:"label",children:"Address *"}),t.jsx("input",{type:"text",id:"address",name:"address",value:c.address,onChange:m,className:"input",required:!0})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"city",className:"label",children:"City *"}),t.jsx("input",{type:"text",id:"city",name:"city",value:c.city,onChange:m,className:"input",required:!0})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"state",className:"label",children:"State *"}),t.jsx("input",{type:"text",id:"state",name:"state",value:c.state,onChange:m,className:"input",required:!0})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"zip_code",className:"label",children:"ZIP Code *"}),t.jsx("input",{type:"text",id:"zip_code",name:"zip_code",value:c.zip_code,onChange:m,className:"input",required:!0})]})]})]})}),t.jsx("div",{className:"card",children:(0,t.jsxs)("div",{className:"card-content",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Location Coordinates (Optional)"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Add latitude and longitude coordinates to display this property on the map view."}),(0,t.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Auto-Convert Address to Coordinates"}),t.jsx(u,{address:c.address,city:c.city,state:c.state,zipCode:c.zip_code,onCoordinatesFound:(e,s)=>{p(a=>({...a,latitude:e,longitude:s})),o.ZP.success("Coordinates found and added!")},disabled:s})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"latitude",className:"label",children:"Latitude"}),t.jsx("input",{type:"number",id:"latitude",name:"latitude",value:c.latitude||"",onChange:m,className:"input",step:"any",placeholder:"e.g., 40.7128"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"longitude",className:"label",children:"Longitude"}),t.jsx("input",{type:"number",id:"longitude",name:"longitude",value:c.longitude||"",onChange:m,className:"input",step:"any",placeholder:"e.g., -74.0060"})]})]})]})}),t.jsx("div",{className:"card",children:(0,t.jsxs)("div",{className:"card-content",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Property Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"bedrooms",className:"label",children:"Bedrooms"}),t.jsx("input",{type:"number",id:"bedrooms",name:"bedrooms",value:c.bedrooms||"",onChange:m,className:"input",min:"0"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"bathrooms",className:"label",children:"Bathrooms"}),t.jsx("input",{type:"number",id:"bathrooms",name:"bathrooms",value:c.bathrooms||"",onChange:m,className:"input",min:"0",step:"0.5"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"square_feet",className:"label",children:"Square Feet"}),t.jsx("input",{type:"number",id:"square_feet",name:"square_feet",value:c.square_feet||"",onChange:m,className:"input",min:"0"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"year_built",className:"label",children:"Year Built"}),t.jsx("input",{type:"number",id:"year_built",name:"year_built",value:c.year_built||"",onChange:m,className:"input",min:"1800",max:new Date().getFullYear()})]})]})]})}),t.jsx("div",{className:"card",children:(0,t.jsxs)("div",{className:"card-content",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Financial Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"monthly_rent",className:"label",children:"Monthly Rent"}),t.jsx("input",{type:"number",id:"monthly_rent",name:"monthly_rent",value:c.monthly_rent||"",onChange:m,className:"input",min:"0",step:"0.01"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"purchase_price",className:"label",children:"Purchase Price"}),t.jsx("input",{type:"number",id:"purchase_price",name:"purchase_price",value:c.purchase_price||"",onChange:m,className:"input",min:"0",step:"0.01"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"current_value",className:"label",children:"Current Value"}),t.jsx("input",{type:"number",id:"current_value",name:"current_value",value:c.current_value||"",onChange:m,className:"input",min:"0",step:"0.01"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"purchase_date",className:"label",children:"Purchase Date"}),t.jsx("input",{type:"date",id:"purchase_date",name:"purchase_date",value:c.purchase_date,onChange:m,className:"input"})]})]})]})}),t.jsx("div",{className:"card",children:(0,t.jsxs)("div",{className:"card-content",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Status & Availability"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"status",className:"label",children:"Status"}),(0,t.jsxs)("select",{id:"status",name:"status",value:c.status,onChange:m,className:"input",children:[t.jsx("option",{value:"empty",children:"Empty"}),t.jsx("option",{value:"rented",children:"Rented"}),t.jsx("option",{value:"owner_finance",children:"Owner Finance"}),t.jsx("option",{value:"lease_purchase",children:"Lease Purchase"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"is_for_rent",checked:c.is_for_rent,onChange:m,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Available for Rent"})]}),(0,t.jsxs)("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",name:"is_for_sale",checked:c.is_for_sale,onChange:m,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Available for Sale"})]})]})]})]})}),t.jsx("div",{className:"card",children:(0,t.jsxs)("div",{className:"card-content",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Additional Information"}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"notes",className:"label",children:"Notes"}),t.jsx("textarea",{id:"notes",name:"notes",value:c.notes,onChange:m,className:"input",rows:4,placeholder:"Any additional notes about the property..."})]})]})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[t.jsx("button",{type:"button",onClick:()=>e.back(),className:"btn btn-secondary",disabled:s,children:"Cancel"}),(0,t.jsxs)("button",{type:"submit",className:"btn btn-primary",disabled:s,children:[s&&t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),t.jsx(d.Z,{className:"w-4 h-4 mr-2"}),s?"Creating...":"Create Property"]})]})]})})]})}},4651:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(1109).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7099:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(1109).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},405:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(1109).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5169:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(1109).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},6527:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(3189).createProxy)(String.raw`C:\Projects\Rental_App\apps\web\app\properties\new\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[784,891,152],()=>a(1310));module.exports=t})();